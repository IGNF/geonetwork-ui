<div class="w-full mt-8 flex flex-col gap-4" data-test="displayedConstraints">
  <span
    *ngIf="isAdditonalElementsVisible$ | async"
    class="border-t border-gray-300 flex grow pb-7"
  ></span>
  <span
    *ngIf="isAdditonalElementsVisible$ | async"
    class="font-bold"
    translate=""
    >{{ constraintsHeader }}</span
  >
  <div>
    <gn-ui-button
      *ngIf="isAdditonalElementsVisible$ | async"
      type="gray"
      (buttonClick)="addConstraintSectionToDisplay()"
    >
      <mat-icon class="material-symbols-outlined text-primary">add</mat-icon>
      &nbsp;<span translate="">{{
        additionalConstraintsButtonLabel
      }}</span></gn-ui-button
    >
    <gn-ui-sortable-list
      [items]="value"
      (itemsOrderChange)="handleConstraintsOrderChange($event)"
      [elementTemplate]="constraintTemplate"
    ></gn-ui-sortable-list>
    <ng-template #constraintTemplate let-constraint let-index="index">
      <gn-ui-constraint-card
        [label]="label"
        [constraintText]="constraint.text ?? ''"
        [constraintURL]="constraint.url ?? ''"
        (urlChange)="handleURLChange($event, index)"
        (constraintTextChange)="handleConstraintTextChange($event, index)"
      ></gn-ui-constraint-card>
    </ng-template>
  </div>
</div>
