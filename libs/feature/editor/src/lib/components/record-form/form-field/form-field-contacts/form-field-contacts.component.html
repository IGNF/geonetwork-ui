<div class="flex flex-col gap-3">
  <div class="flex flex-row flex-wrap gap-2" data-test="rolesToPick">
    <!--    <ng-container *ngFor="let role of rolesToPick">-->
    <!--      <gn-ui-button-->
    <!--        extraClass="px-2 py-1.5"-->
    <!--        (buttonClick)="addRoleToDisplay(role)"-->
    <!--      >-->
    <!--        <div class="flex flex-row gap-1 items-center">-->
    <!--          <span class="text-primary text-[20px] leading-[0] font-bold pb-[5px]"-->
    <!--            >&#8330;</span-->
    <!--          >-->
    <!--          <span class="font-bold" translate>{{ roleToLabel(role) }}</span>-->
    <!--        </div>-->
    <!--      </gn-ui-button>-->
    <!--    </ng-container>-->
  </div>
  <!--  <div-->
  <!--    class="mt-8"-->
  <!--    *ngIf="-->
  <!--      roleSectionsToDisplay && roleSectionsToDisplay.length > 0;-->
  <!--      else noContact-->
  <!--    "-->
  <!--  >-->
  <!--    <div-->
  <!--      *ngFor="-->
  <!--        let role of roleSectionsToDisplay;-->
  <!--        let index = index;-->
  <!--        let isLast = last-->
  <!--      "-->
  <!--      class="flex flex-col gap-4"-->
  <!--    >-->
  <!--      <div class="flex flex-row justify-between">-->
  <!--        <span class="font-bold text-base" translate>{{-->
  <!--          roleToLabel(role)-->
  <!--        }}</span>-->
  <!--      </div>-->

  <gn-ui-autocomplete
    [placeholder]="'Choose a contact'"
    [action]="autoCompleteAction"
    (itemSelected)="addContact($event)"
    [displayWithFn]="displayWithFn"
    [minCharacterCount]="1"
    [clearOnSelection]="true"
  >
  </gn-ui-autocomplete>
  <ng-container *ngIf="contacts.length > 0; else noContact">
    <ng-container *ngIf="contacts.length === 1">
      <ng-container *ngFor="let contact of contacts; let index = index">
        <gn-ui-contact-card
          [contact]="contact"
          (contactRemoved)="removeContact()"
        ></gn-ui-contact-card> </ng-container
    ></ng-container>

    <ng-container *ngIf="contacts.length > 1">
      <gn-ui-sortable-list
        [elements]="contactsAsDynElem"
        (elementsChange)="handleContactsChanged($event)"
      ></gn-ui-sortable-list>
    </ng-container>
  </ng-container>
</div>
<ng-template #noContact>
  <div
    class="p-4 border border-primary bg-primary-lightest rounded-lg"
    translate
  >
    editor.record.form.field.contacts.noContact
  </div>
</ng-template>
