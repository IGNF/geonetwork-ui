<a
  [attr.href]="linkHref"
  [target]="linkTarget"
  class="record-card"
  [ngClass]="cardClass"
>
  <div *ngIf="shouldShowThumbnail" class="record-card__thumbnail">
    <gn-ui-thumbnail
      class="w-full h-full object-cover"
      [thumbnailUrl]="record.overviews?.[0]?.url?.toString() || ''"
      [fit]="'cover'"
    ></gn-ui-thumbnail>
  </div>
  <div class="grow pt-1">
    <div class="flex flex-col gap-2 h-full">
      <h4
        class="font-medium text-title text-xl group-hover:text-primary"
        class="record-card__title"
        data-cy="recordTitle"
        [title]="record.title"
      >
        {{ record.title }}
      </h4>
      <div class="grow w-full break-all">
        <gn-ui-markdown-parser
          data-cy="recordAbstract"
          [textContent]="abstract"
          [whitoutStyles]="true"
          class="text-gray-900 overflow-hidden"
          class="record-card__abstract"
          [title]="abstract"
        ></gn-ui-markdown-parser>
      </div>
      <div class="record-card__footer">
        <div
          *ngIf="record.ownerOrganization?.name"
          class="grow flex flex-nowrap gap-1 items-center text-primary-lighter"
        >
          <ng-icon
            name="iconoirBank"
            class="text-primary -translate-y-[0.5px] shrink-0"
          ></ng-icon>
          <span class="line-clamp-1" [title]="record.ownerOrganization.name">{{
            record.ownerOrganization.name
          }}</span>
        </div>
        <div class="record-card__footer__other">
          <div class="border-r last:border-r-0 flex grow gap-4 last:pr-0">
            <gn-ui-kind-badge
              [iconSize]="'M'"
              [styling]="'gray'"
              [kind]="record?.kind"
              [contentTemplate]="customTemplate"
            >
              <ng-template #customTemplate></ng-template
            ></gn-ui-kind-badge>
            <gn-ui-metadata-quality
              *ngIf="metadataQualityDisplay"
              class="flex items-center min-w-[113px]"
              [smaller]="true"
              [metadata]="record"
              [metadataQualityDisplay]="metadataQualityDisplay"
            ></gn-ui-metadata-quality>
          </div>
          <ng-container
            [ngTemplateOutlet]="favoriteTemplate"
            *ngIf="size !== 'XS'"
            data-cy="recordFav"
            [ngTemplateOutletContext]="{ $implicit: record }"
          ></ng-container>
        </div>
      </div>
    </div>
  </div>
</a>
